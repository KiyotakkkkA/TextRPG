# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é NPC

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è NPC (–Ω–µ–∏–≥—Ä–æ–≤—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π) –¥–ª—è –∏–≥—Ä—ã.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ NPC](#–æ–±—â–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-npc)
2. [–¢–∏–ø—ã NPC](#—Ç–∏–ø—ã-npc)
   - [–î–∏–∞–ª–æ–≥–æ–≤—ã–π NPC](#–¥–∏–∞–ª–æ–≥–æ–≤—ã–π-npc)
   - [–ö–≤–µ—Å—Ç–æ–≤—ã–π NPC](#–∫–≤–µ—Å—Ç–æ–≤—ã–π-npc)
   - [–¢–æ—Ä–≥–æ–≤–µ—Ü](#—Ç–æ—Ä–≥–æ–≤–µ—Ü)
3. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏–∞–ª–æ–≥–æ–≤](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–¥–∏–∞–ª–æ–≥–æ–≤)
4. [–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤](#–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è-—Ñ–∞–π–ª–æ–≤)
5. [–ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã](#–ø–æ–ª–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã)

## –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ NPC

–ö–∞–∂–¥—ã–π NPC –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ JSON-—Ñ–∞–π–ª–µ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```json
{
  "npc_id": {
    "name": "–ò–º—è NPC",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ NPC",
    "type": "—Ç–∏–ø_npc", // "dialogue" (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), "quest" –∏–ª–∏ "trader"
    "dialogues": {
      // —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏–∞–ª–æ–≥–æ–≤
    }
    // –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ NPC
  }
}
```

–ë–∞–∑–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è –ª—é–±–æ–≥–æ NPC:

- **npc_id** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä NPC, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ
- **name** - –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è NPC
- **description** - –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ NPC
- **type** - —Ç–∏–ø NPC: "dialogue" (–æ–±—ã—á–Ω—ã–π –¥–∏–∞–ª–æ–≥–æ–≤—ã–π NPC), "quest" (–∫–≤–µ—Å—Ç–æ–≤—ã–π NPC) –∏–ª–∏ "trader" (—Ç–æ—Ä–≥–æ–≤–µ—Ü)
- **dialogues** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏–∞–ª–æ–≥–æ–≤ NPC

## –¢–∏–ø—ã NPC

### –î–∏–∞–ª–æ–≥–æ–≤—ã–π NPC

–î–∏–∞–ª–æ–≥–æ–≤—ã–π NPC (—Ç–∏–ø "dialogue") –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–≥—Ä–æ–∫—É —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥–∏. –û–Ω–∏ –Ω–µ –≤—ã–¥–∞—é—Ç –∫–≤–µ—Å—Ç–æ–≤ –∏ –Ω–µ —Ç–æ—Ä–≥—É—é—Ç.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤–æ–≥–æ NPC:

- **topics** - —Ç–µ–º—ã –¥–ª—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü—Ä–∏–º–µ—Ä:

```json
{
  "forest_hermit": {
    "name": "–û—Ç—à–µ–ª—å–Ω–∏–∫ –≠—Ä–º–∏–Ω",
    "description": "–°—Ç–∞—Ä—ã–π –æ—Ç—à–µ–ª—å–Ω–∏–∫, –∂–∏–≤—É—â–∏–π –≤ –ª–µ—Å—É –º–Ω–æ–≥–æ –ª–µ—Ç.",
    "type": "dialogue",
    "location_id": "forest",
    "topics": {
      "forest_history": {
        "name": "–ò—Å—Ç–æ—Ä–∏—è –ª–µ—Å–∞",
        "dialogue_id": "forest_history"
      },
      "magic_essence": {
        "name": "–ú–∞–≥–∏—á–µ—Å–∫–∏–µ —ç—Å—Å–µ–Ω—Ü–∏–∏",
        "dialogue_id": "magic_essence"
      }
    },
    "dialogues": {
      // —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏–∞–ª–æ–≥–æ–≤ (–æ–ø–∏—Å–∞–Ω–∞ –≤ —Ä–∞–∑–¥–µ–ª–µ "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏–∞–ª–æ–≥–æ–≤")
    }
  }
}
```

### –ö–≤–µ—Å—Ç–æ–≤—ã–π NPC

–ö–≤–µ—Å—Ç–æ–≤—ã–π NPC (—Ç–∏–ø "quest") –º–æ–∂–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å –∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–≤–µ—Å—Ç—ã.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –∫–≤–µ—Å—Ç–æ–≤–æ–≥–æ NPC:

- **available_quests** - —Å–ø–∏—Å–æ–∫ ID –∫–≤–µ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–µ—Ç –≤—ã–¥–∞—Ç—å NPC

–ü—Ä–∏–º–µ—Ä:

```json
{
  "village_elder": {
    "name": "–°—Ç–∞—Ä–µ–π—à–∏–Ω–∞ –¥–µ—Ä–µ–≤–Ω–∏",
    "description": "–ú—É–¥—Ä—ã–π —Å—Ç–∞—Ä–µ—Ü, –∫–æ—Ç–æ—Ä—ã–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç –¥–µ—Ä–µ–≤–Ω–µ–π –º–Ω–æ–≥–æ –ª–µ—Ç.",
    "type": "quest",
    "available_quests": ["collect_herbs", "wolves_threat", "missing_child"],
    "dialogues": {
      // —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏–∞–ª–æ–≥–æ–≤ —Å –æ–ø—Ü–∏—è–º–∏ –¥–ª—è –Ω–∞—á–∞–ª–∞ –∫–≤–µ—Å—Ç–æ–≤
    }
  }
}
```

### –¢–æ—Ä–≥–æ–≤–µ—Ü

–¢–æ—Ä–≥–æ–≤–µ—Ü (—Ç–∏–ø "trader") –º–æ–∂–µ—Ç –ø–æ–∫—É–ø–∞—Ç—å –∏ –ø—Ä–æ–¥–∞–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —Ç–æ—Ä–≥–æ–≤—Ü–∞:

- **trade_exp** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø—ã—Ç–∞, –ø–æ–ª—É—á–∞–µ–º–æ–≥–æ –∑–∞ —Ç–æ—Ä–≥–æ–≤–ª—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1)
- **buys** - —Å–ª–æ–≤–∞—Ä—å –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ—Ä–≥–æ–≤–µ—Ü –ø–æ–∫—É–ø–∞–µ—Ç: `{"item_id": price_modifier}`
- **sells** - —Å–ª–æ–≤–∞—Ä—å –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ—Ä–≥–æ–≤–µ—Ü –ø—Ä–æ–¥–∞–µ—Ç: `{"item_id": {"price": —Ü–µ–Ω–∞, "count": –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ}}`

–ü—Ä–∏–º–µ—Ä:

```json
{
  "herb_trader": {
    "name": "–¢—Ä–∞–≤–Ω–∏–∫ –ú–∏—Ä–∞–Ω",
    "description": "–°—Ç–∞—Ä—ã–π —Ç—Ä–∞–≤–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –∑–Ω–∞–µ—Ç –≤—Å–µ –æ —Ä–∞—Å—Ç–µ–Ω–∏—è—Ö.",
    "type": "trader",
    "trade_exp": 1,
    "buys": {
      "mushroom": 1,
      "wolfbane": 1,
      "beast_plant": 2
    },
    "sells": {
      "mushroom": {
        "price": 10,
        "count": 5
      },
      "wolfbane": {
        "price": 10,
        "count": 5
      }
    },
    "dialogues": {
      // —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏–∞–ª–æ–≥–æ–≤ —Å –æ–ø—Ü–∏—è–º–∏ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
    }
  }
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏–∞–ª–æ–≥–æ–≤

–î–∏–∞–ª–æ–≥–∏ –∏–º–µ—é—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```json
"dialogues": {
  "dialogue_id": {
    "text": "–¢–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞",
    "options": [
      {
        "text": "–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞/–≤–æ–ø—Ä–æ—Å–∞ –∏–≥—Ä–æ–∫–∞",
        "next_id": "—Å–ª–µ–¥—É—é—â–∏–π_dialogue_id",  // ID —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–∏–∞–ª–æ–≥–∞
        "action": "–¥–µ–π—Å—Ç–≤–∏–µ",  // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
        "condition": "—É—Å–ª–æ–≤–∏–µ" // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ
      },
      // –î—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤...
    ]
  },
  // –î—Ä—É–≥–∏–µ –¥–∏–∞–ª–æ–≥–∏...
}
```

–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

- **dialogue_id** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–∏–∞–ª–æ–≥–∞
- **text** - —Ç–µ–∫—Å—Ç, –ø—Ä–æ–∏–∑–Ω–æ—Å–∏–º—ã–π NPC
- **options** - —Å–ø–∏—Å–æ–∫ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–≥—Ä–æ–∫—É:
  - **text** - —Ç–µ–∫—Å—Ç –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ—Ç–≤–µ—Ç–∞
  - **next_id** - ID —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–∏–∞–ª–æ–≥–∞ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —ç—Ç–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞
  - **action** - –¥–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø—Ä–∏ –≤—ã–±–æ—Ä–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
    - `"exit"` - –≤—ã—Ö–æ–¥ –∏–∑ –¥–∏–∞–ª–æ–≥–∞
    - `"trade"` - –Ω–∞—á–∞—Ç—å —Ç–æ—Ä–≥–æ–≤–ª—é (–¥–ª—è —Ç–æ—Ä–≥–æ–≤—Ü–µ–≤)
    - `"start_quest_QUESTID"` - –Ω–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID (–¥–ª—è –∫–≤–µ—Å—Ç–æ–≤—ã—Ö NPC)
  - **condition** - —É—Å–ª–æ–≤–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
    - `"quest_available_QUESTID"` - –∫–≤–µ—Å—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID –¥–æ—Å—Ç—É–ø–µ–Ω
    - `"quest_completed_QUESTID"` - –∫–≤–µ—Å—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID –≤—ã–ø–æ–ª–Ω–µ–Ω
    - `"skill_SKILLID_LEVEL"` - —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–≤—ã–∫ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"skill_ancient_language_3"`)
    - `"item_ITEMID"` - —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ
    - `"npc_known_NPCID"` - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å NPC (NPC –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –≥–ª–æ—Å—Å–∞—Ä–∏–∏ –∏–≥—Ä–æ–∫–∞)
    - `"location_visited_LOCATIONID"` - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ—Å–µ—â–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –ª–æ–∫–∞—Ü–∏–∏
    - `"monster_defeated_MONSTERID"` - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–±–µ–¥–∞ –Ω–∞–¥ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –º–æ–Ω—Å—Ç—Ä–æ–º

### –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Å–ª–æ–≤–Ω—ã—Ö –æ–ø—Ü–∏–π

–í –∏–≥—Ä–æ–≤–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —É—Å–ª–æ–≤–Ω—ã–µ –æ–ø—Ü–∏–∏ –¥–∏–∞–ª–æ–≥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏ —Å–ª–µ–≤–∞ –æ—Ç —Ç–µ–∫—Å—Ç–∞, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–º–∏ —Ç–∏–ø —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–∞: `[üß† –î—Ä–µ–≤–Ω–∏–π —è–∑—ã–∫: 3]` (—Å —É—Ä–æ–≤–Ω–µ–º –Ω–∞–≤—ã–∫–∞)
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞: `[üì¶ –î—Ä–µ–≤–Ω–∏–π –∫–ª—é—á]` (—Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø—Ä–µ–¥–º–µ—Ç–∞)
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ —Å NPC: `[üë§ –ó–Ω–∞–Ω–∏–µ –æ: –°—Ç–∞—Ä–µ–π—à–∏–Ω–∞]`
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø–æ—Å–µ—â–µ–Ω–∏—è –ª–æ–∫–∞—Ü–∏–∏: `[üó∫Ô∏è –ü–æ—Å–µ—â–µ–Ω–æ: –î—Ä–µ–≤–Ω–∏–µ —Ä—É–∏–Ω—ã]`
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø–æ–±–µ–¥—ã –Ω–∞–¥ –º–æ–Ω—Å—Ç—Ä–æ–º: `[‚öîÔ∏è –ü–æ–±–µ–∂–¥–µ–Ω–æ: –î—Ä–µ–≤–Ω–∏–π —Å—Ç—Ä–∞–∂]`

–û–ø—Ü–∏–∏, —É—Å–ª–æ–≤–∏—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –º–æ–≥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Å–µ—Ä—ã–º —Ü–≤–µ—Ç–æ–º –∏–ª–∏ –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –≤—ã–±–æ—Ä–∞, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É—Å–ª–æ–≤–∏–π –≤ –¥–∏–∞–ª–æ–≥–∞—Ö

```json
{
  "npc_dialogue": {
    "text": "–ß—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å?",
    "options": [
      {
        "text": "–†–∞—Å—Å–∫–∞–∂–∏ –æ –¥—Ä–µ–≤–Ω–∏—Ö —Ä—É–Ω–∞—Ö",
        "next_id": "ancient_runes_dialogue",
        "condition": "skill_ancient_language_2"
      },
      {
        "text": "–ú–æ–≥—É –ª–∏ —è –≤–æ–π—Ç–∏ –≤ —Ö—Ä–∞–º?",
        "next_id": "temple_access",
        "condition": "item_temple_key"
      },
      {
        "text": "–Ø —Å–ª—ã—à–∞–ª –æ —Å—Ç–∞—Ä–µ–π—à–∏–Ω–µ...",
        "next_id": "elder_dialogue",
        "condition": "npc_known_village_elder"
      }
    ]
  }
}
```

–£ –ª—é–±–æ–≥–æ NPC –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–∞–∫ –º–∏–Ω–∏–º—É–º –¥–∏–∞–ª–æ–≥ —Å ID "greeting", –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è.

## –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤

NPC –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –≤ JSON-—Ñ–∞–π–ª–∞—Ö –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:

1. **–ü–æ —Ç–∏–ø—É** - –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ NPC:

   - `dialogue_npcs.json` - –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤—ã—Ö NPC
   - `quest_npcs.json` - –¥–ª—è –∫–≤–µ—Å—Ç–æ–≤—ã—Ö NPC
   - `traders.json` - –¥–ª—è —Ç–æ—Ä–≥–æ–≤—Ü–µ–≤

2. **–ü–æ —Ä–µ–≥–∏–æ–Ω—É/–ª–æ–∫–∞—Ü–∏–∏** - –º–æ–∂–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å NPC –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –∏–ª–∏ –ª–æ–∫–∞—Ü–∏—è–º:

   - `forest_npcs.json` - NPC –≤ –ª–µ—Å—É
   - `village_npcs.json` - NPC –≤ –¥–µ—Ä–µ–≤–Ω–µ
   - `city_npcs.json` - NPC –≤ –≥–æ—Ä–æ–¥–µ

3. **–ü–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏** - –∫–∞–∂–¥—ã–π NPC –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ (—É–¥–æ–±–Ω–æ –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö NPC —Å –±–æ–ª—å—à–∏–º–∏ –¥–∏–∞–ª–æ–≥–∞–º–∏)

–§–∞–π–ª—ã NPC –º–æ–≥—É—Ç —Ä–∞–∑–º–µ—â–∞—Ç—å—Å—è –∫–∞–∫ –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `resources/npcs/`, —Ç–∞–∫ –∏ –≤ –ø–æ–¥–ø–∞–ø–∫–∞—Ö –¥–ª—è –ª—É—á—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏: `resources/npcs/regionName/file.json`.

## –ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

### –î–∏–∞–ª–æ–≥–æ–≤—ã–π NPC - –õ–µ—Å–Ω–æ–π –æ—Ç—à–µ–ª—å–Ω–∏–∫

```json
{
  "forest_hermit": {
    "name": "–û—Ç—à–µ–ª—å–Ω–∏–∫ –≠—Ä–º–∏–Ω",
    "description": "–°—Ç–∞—Ä—ã–π –æ—Ç—à–µ–ª—å–Ω–∏–∫, –∂–∏–≤—É—â–∏–π –≤ –ª–µ—Å—É –º–Ω–æ–≥–æ –ª–µ—Ç.",
    "type": "dialogue",
    "topics": {
      "forest_history": {
        "name": "–ò—Å—Ç–æ—Ä–∏—è –ª–µ—Å–∞",
        "dialogue_id": "forest_history"
      },
      "magic_essence": {
        "name": "–ú–∞–≥–∏—á–µ—Å–∫–∏–µ —ç—Å—Å–µ–Ω—Ü–∏–∏",
        "dialogue_id": "magic_essence"
      }
    },
    "dialogues": {
      "greeting": {
        "text": "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è, –∏—Å–∫–∞—Ç–µ–ª—å –∑–Ω–∞–Ω–∏–π. –ú–∞–ª–æ –∫—Ç–æ –∑–∞–±—Ä–µ–¥–∞–µ—Ç –≤ —ç—Ç—É —á–∞—Å—Ç—å –ª–µ—Å–∞.",
        "options": [
          {
            "text": "–•–æ—á—É —É–∑–Ω–∞—Ç—å –æ–± –∏—Å—Ç–æ—Ä–∏–∏ –ª–µ—Å–∞",
            "next_id": "forest_history"
          },
          {
            "text": "–ß—Ç–æ —Ç—ã –∑–Ω–∞–µ—à—å –æ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —ç—Å—Å–µ–Ω—Ü–∏—è—Ö?",
            "next_id": "magic_essence"
          },
          {
            "text": "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è",
            "action": "exit"
          }
        ]
      },
      "forest_history": {
        "text": "–≠—Ç–æ—Ç –ª–µ—Å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å –Ω–µ–∑–∞–ø–∞–º—è—Ç–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω. –í –¥—Ä–µ–≤–Ω–æ—Å—Ç–∏ –µ–≥–æ –Ω–∞—Å–µ–ª—è–ª–∏ —ç–ª—å—Ñ—ã, –∫–æ—Ç–æ—Ä—ã–µ –∂–∏–ª–∏ –≤ –≥–∞—Ä–º–æ–Ω–∏–∏ —Å –ø—Ä–∏—Ä–æ–¥–æ–π. –ù–æ –æ–Ω–∏ –∏—Å—á–µ–∑–ª–∏ –ø–æ—Å–ª–µ –í–µ–ª–∏–∫–æ–π –ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã —Ç—ã—Å—è—á—É –ª–µ—Ç –Ω–∞–∑–∞–¥.",
        "options": [
          {
            "text": "–ß—Ç–æ –µ—â–µ —Ç—ã –º–æ–∂–µ—à—å —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å?",
            "next_id": "greeting"
          }
        ]
      },
      "magic_essence": {
        "text": "–ú–∞–≥–∏—á–µ—Å–∫–∏–µ —ç—Å—Å–µ–Ω—Ü–∏–∏ - —ç—Ç–æ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–∞–≥–∏—è —Å—Ç–∏—Ö–∏–π. –í–æ–∑–¥—É—à–Ω–∞—è —ç—Å—Å–µ–Ω—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —ç—Ç–æ–º –ª–µ—Å—É, —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º–æ–π –ø—Ä–æ—Å—Ç–æ–π –¥–ª—è —Å–±–æ—Ä–∞.",
        "options": [
          {
            "text": "–ß—Ç–æ –µ—â–µ —Ç—ã –º–æ–∂–µ—à—å —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å?",
            "next_id": "greeting"
          }
        ]
      }
    }
  }
}
```

### –ö–≤–µ—Å—Ç–æ–≤—ã–π NPC - –°—Ç–∞—Ä–µ–π—à–∏–Ω–∞ –¥–µ—Ä–µ–≤–Ω–∏

```json
{
  "village_elder": {
    "name": "–°—Ç–∞—Ä–µ–π—à–∏–Ω–∞ –¥–µ—Ä–µ–≤–Ω–∏",
    "description": "–ú—É–¥—Ä—ã–π —Å—Ç–∞—Ä–µ—Ü, –∫–æ—Ç–æ—Ä—ã–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç –¥–µ—Ä–µ–≤–Ω–µ–π –º–Ω–æ–≥–æ –ª–µ—Ç.",
    "type": "quest",
    "available_quests": ["collect_herbs", "wolves_threat", "missing_child"],
    "dialogues": {
      "greeting": {
        "text": "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è, –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫. –ù–∞—à–∞ –¥–µ—Ä–µ–≤–Ω—è –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –ø–æ–º–æ—â–∏.",
        "options": [
          {
            "text": "–ß–µ–º —è –º–æ–≥—É –ø–æ–º–æ—á—å?",
            "next_id": "help_options"
          },
          {
            "text": "–†–∞—Å—Å–∫–∞–∂–∏ –æ –¥–µ—Ä–µ–≤–Ω–µ",
            "next_id": "about_village"
          },
          {
            "text": "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è",
            "action": "exit"
          }
        ]
      },
      "help_options": {
        "text": "–£ –Ω–∞—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–±–ª–µ–º, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Ç—ã –º–æ–≥ –±—ã –ø–æ–º–æ—á—å.",
        "options": [
          {
            "text": "–ù—É–∂–Ω—ã —Ç—Ä–∞–≤—ã –¥–ª—è –ª–µ–∫–∞—Ä—è",
            "action": "start_quest_collect_herbs",
            "condition": "quest_available_collect_herbs"
          },
          {
            "text": "–ü—Ä–æ–±–ª–µ–º–∞ —Å –≤–æ–ª–∫–∞–º–∏",
            "action": "start_quest_wolves_threat",
            "condition": "quest_available_wolves_threat"
          },
          {
            "text": "–ü—Ä–æ–ø–∞–≤—à–∏–π —Ä–µ–±—ë–Ω–æ–∫",
            "action": "start_quest_missing_child",
            "condition": "quest_available_missing_child"
          },
          {
            "text": "–í–µ—Ä–Ω—É—Ç—å—Å—è",
            "next_id": "greeting"
          }
        ]
      },
      "about_village": {
        "text": "–ù–∞—à–∞ –¥–µ—Ä–µ–≤–Ω—è –æ—Å–Ω–æ–≤–∞–Ω–∞ –±–æ–ª–µ–µ 200 –ª–µ—Ç –Ω–∞–∑–∞–¥. –ú—ã –∂–∏–≤–µ–º –≤ –≥–∞—Ä–º–æ–Ω–∏–∏ —Å –ª–µ—Å–æ–º –∏ –∑–∞–Ω–∏–º–∞–µ–º—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∑–µ–º–ª–µ–¥–µ–ª–∏–µ–º –∏ –æ—Ö–æ—Ç–æ–π.",
        "options": [
          {
            "text": "–í–µ—Ä–Ω—É—Ç—å—Å—è",
            "next_id": "greeting"
          }
        ]
      }
    }
  }
}
```

### –¢–æ—Ä–≥–æ–≤–µ—Ü - –¢—Ä–∞–≤–Ω–∏–∫

```json
{
  "herb_trader": {
    "name": "–¢—Ä–∞–≤–Ω–∏–∫ –ú–∏—Ä–∞–Ω",
    "description": "–°—Ç–∞—Ä—ã–π —Ç—Ä–∞–≤–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –∑–Ω–∞–µ—Ç –≤—Å–µ –æ —Ä–∞—Å—Ç–µ–Ω–∏—è—Ö.",
    "type": "trader",
    "trade_exp": 1,
    "buys": {
      "mushroom": 1,
      "wolfbane": 1,
      "beast_plant": 2
    },
    "sells": {
      "mushroom": {
        "price": 10,
        "count": 5
      },
      "wolfbane": {
        "price": 10,
        "count": 5
      }
    },
    "dialogues": {
      "greeting": {
        "text": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π, –ø—É—Ç–Ω–∏–∫! –ó–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω –≤ –º–æ–∏—Ö —Ç–æ–≤–∞—Ä–∞—Ö?",
        "options": [
          {
            "text": "–ß—Ç–æ —Ç—ã –ø–æ–∫—É–ø–∞–µ—à—å?",
            "next_id": "buy_info"
          },
          {
            "text": "–ß—Ç–æ —Ç—ã –ø—Ä–æ–¥–∞–µ—à—å?",
            "next_id": "sell_info"
          },
          {
            "text": "–î–∞–≤–∞–π —Ç–æ—Ä–≥–æ–≤–∞—Ç—å",
            "action": "trade"
          },
          {
            "text": "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è",
            "action": "exit"
          }
        ]
      },
      "buy_info": {
        "text": "–Ø –ø–æ–∫—É–ø–∞—é –ª—é–±—ã–µ —Ç—Ä–∞–≤—ã –∏ –≥—Ä–∏–±—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Å—å —Ä–µ–¥–∫–∏–º–∏ —Ä–∞—Å—Ç–µ–Ω–∏—è–º–∏.",
        "options": [
          {
            "text": "–í–µ—Ä–Ω—É—Ç—å—Å—è",
            "next_id": "greeting"
          }
        ]
      },
      "sell_info": {
        "text": "–£ –º–µ–Ω—è –µ—Å—Ç—å –ª–µ—á–µ–±–Ω—ã–µ –∑–µ–ª—å—è –∏ —Ä–∞—Å—Ç–µ–Ω–∏—è.",
        "options": [
          {
            "text": "–í–µ—Ä–Ω—É—Ç—å—Å—è",
            "next_id": "greeting"
          }
        ]
      }
    }
  }
}
```

### –£–Ω–∏–∫–∞–ª—å–Ω—ã–π NPC - –°—Ç—Ä–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—É—è

```json
{
  "suspicious_statue": {
    "name": "–°—Ç—Ä–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—É—è",
    "description": "–°—Ç—Ä–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—É—è, –∫–æ—Ç–æ—Ä—É—é –≤—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏ –≤ —Ä—É–∏–Ω–∞—Ö.",
    "type": "quest",
    "location_id": "ancient_ruins",
    "dialogues": {
      "greeting": {
        "text": "<–°—Ç–∞—Ç—É—è, –∫–æ—Ç–æ—Ä–∞—è, –∫–∞–∂–µ—Ç—Å—è, –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–±–ª—é–¥–∞–µ—Ç –∑–∞ –≤–∞–º–∏>",
        "options": [
          {
            "text": "–ü–æ–¥–æ–π—Ç–∏ –±–ª–∏–∂–µ –∏ –æ—Å–º–æ—Ç—Ä–µ—Ç—å",
            "next_id": "examine_statue"
          },
          {
            "text": "–£–π—Ç–∏",
            "action": "exit"
          }
        ]
      },
      "examine_statue": {
        "text": "–ö–æ–≥–¥–∞ –≤—ã –ø–æ–¥—Ö–æ–¥–∏—Ç–µ –±–ª–∏–∂–µ, –≤–∞–º –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –≥–ª–∞–∑–∞ —Å—Ç–∞—Ç—É–∏ —Å–ª–µ–¥—è—Ç –∑–∞ –≤–∞–º–∏. –ù–∞ —Å—Ç–∞—Ç—É–µ –µ—Å—Ç—å –¥—Ä–µ–≤–Ω–∏–µ —Ä—É–Ω—ã.",
        "options": [
          {
            "text": "–ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ä—É–Ω—ã",
            "next_id": "read_runes",
            "condition": "skill_ancient_language_3"
          },
          {
            "text": "–ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—é",
            "next_id": "activate_statue",
            "condition": "item_ancient_key"
          },
          {
            "text": "–í—Å–ø–æ–º–Ω–∏—Ç—å —Ä–∞—Å—Å–∫–∞–∑ —Å—Ç–∞—Ä–µ–π—à–∏–Ω—ã –æ–± —ç—Ç–∏—Ö —Ä—É–∏–Ω–∞—Ö",
            "next_id": "recall_elder_knowledge",
            "condition": "npc_known_village_elder"
          },
          {
            "text": "–Ø –Ω–µ –º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å —ç—Ç–∏ —Å–∏–º–≤–æ–ª—ã",
            "next_id": "cannot_read"
          },
          {
            "text": "–û—Ç–æ–π—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É–∏",
            "action": "exit"
          }
        ]
      },
      "read_runes": {
        "text": "–ë–ª–∞–≥–æ–¥–∞—Ä—è –≤–∞—à–∏–º –∑–Ω–∞–Ω–∏—è–º –¥—Ä–µ–≤–Ω–µ–≥–æ —è–∑—ã–∫–∞, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –Ω–∞–¥–ø–∏—Å—å: '–°—Ç—Ä–∞–∂ –≤—Ä–∞—Ç, –∑–∞—â–∏—Ç–Ω–∏–∫ —Ç–∞–π–Ω, –ø—Ä–æ–±—É–¥–∏—Å—å –æ—Ç –≥–æ–ª–æ—Å–∞ –¥—Ä–µ–≤–Ω–µ–π –∫—Ä–æ–≤–∏'.",
        "options": [
          {
            "text": "–ü—Ä–æ–∏–∑–Ω–µ—Å—Ç–∏ —Ñ—Ä–∞–∑—É –Ω–∞ –¥—Ä–µ–≤–Ω–µ–º —è–∑—ã–∫–µ",
            "next_id": "speak_ancient_phrase",
            "condition": "skill_ancient_language_5"
          },
          {
            "text": "–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥",
            "next_id": "examine_statue"
          }
        ]
      },
      "activate_statue": {
        "text": "–í—ã –≤—Å—Ç–∞–≤–ª—è–µ—Ç–µ –¥—Ä–µ–≤–Ω–∏–π –∫–ª—é—á –≤ —Å–∫—Ä—ã—Ç–æ–µ –æ—Ç–≤–µ—Ä—Å—Ç–∏–µ –≤ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ —Å—Ç–∞—Ç—É–∏. –ì–ª–∞–∑–∞ —Å—Ç–∞—Ç—É–∏ –Ω–∞—á–∏–Ω–∞—é—Ç —Å–≤–µ—Ç–∏—Ç—å—Å—è –≥–æ–ª—É–±—ã–º —Å–≤–µ—Ç–æ–º, –∏ –≤—ã —Å–ª—ã—à–∏—Ç–µ –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–π –∑–≤—É–∫ –æ—Ç–∫—Ä—ã–≤–∞—é—â–µ–≥–æ—Å—è —Ç–∞–π–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–¥–∞ –ø–æ–∑–∞–¥–∏ —Å—Ç–∞—Ç—É–∏.",
        "options": [
          {
            "text": "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Ç–∞–π–Ω—ã–π –ø—Ä–æ—Ö–æ–¥",
            "next_id": "secret_passage"
          },
          {
            "text": "–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥",
            "next_id": "examine_statue"
          }
        ]
      },
      "recall_elder_knowledge": {
        "text": "–í—ã –≤—Å–ø–æ–º–∏–Ω–∞–µ—Ç–µ, —á—Ç–æ —Å—Ç–∞—Ä–µ–π—à–∏–Ω–∞ –¥–µ—Ä–µ–≤–Ω–∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª –æ–± —ç—Ç–æ–π —Å—Ç–∞—Ç—É–µ. –ü–æ –µ–≥–æ —Å–ª–æ–≤–∞–º, –æ–Ω–∞ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –¥—Ä–µ–≤–Ω–µ–π —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏–µ–π –¥–ª—è –æ—Ö—Ä–∞–Ω—ã –≤—Ö–æ–¥–∞ –≤ –ø–æ–¥–∑–µ–º–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∑–Ω–∞–Ω–∏–π.",
        "options": [
          {
            "text": "–ü–æ–∏—Å–∫–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º, –æ –∫–æ—Ç–æ—Ä–æ–º –≥–æ–≤–æ—Ä–∏–ª —Å—Ç–∞—Ä–µ–π—à–∏–Ω–∞",
            "next_id": "search_mechanism"
          },
          {
            "text": "–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥",
            "next_id": "examine_statue"
          }
        ]
      },
      "cannot_read": {
        "text": "–°–∏–º–≤–æ–ª—ã –≤—ã–≥–ª—è–¥—è—Ç —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–º–∏. –í–æ–∑–º–æ–∂–Ω–æ, –µ—Å–ª–∏ –±—ã –≤—ã –∏–∑—É—á–∏–ª–∏ –¥—Ä–µ–≤–Ω–∏–µ —è–∑—ã–∫–∏, –≤—ã —Å–º–æ–≥–ª–∏ –±—ã –∏—Ö —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å.",
        "options": [
          {
            "text": "–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥",
            "next_id": "examine_statue"
          }
        ]
      }
    }
  }
}
```
