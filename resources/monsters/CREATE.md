# Руководство по созданию монстров

Это руководство описывает процесс создания монстров для игры.

## Содержание

1. [Общая структура монстра](#общая-структура-монстра)
2. [Характеристики монстров](#характеристики-монстров)
3. [Типы монстров](#типы-монстров)
4. [Организация файлов](#организация-файлов)
5. [Полные примеры](#полные-примеры)

## Общая структура монстра

Каждый монстр определяется в JSON-файле следующей структурой:

```json
{
  "monster_id": {
    "name": "Имя монстра",
    "description": "Описание монстра",
    "level": число,
    "health": число,
    "damage": число
    // дополнительные поля в зависимости от типа монстра
  }
}
```

Базовые поля для любого монстра:

- **monster_id** - уникальный идентификатор монстра, используется в коде
- **name** - отображаемое имя монстра
- **description** - краткое описание монстра
- **level** - уровень монстра, влияет на его силу и награду за победу
- **health** - количество здоровья монстра
- **damage** - базовый урон от атак монстра

## Характеристики монстров

Монстры могут иметь следующие дополнительные характеристики:

- **armor** - защита монстра, уменьшает получаемый урон
- **magic_resist** - защита от магических атак
- **exp_reward** - количество опыта, получаемого игроком за победу (если не указано, рассчитывается автоматически на основе уровня)
- **gold_reward** - количество золота, получаемого игроком за победу (если не указано, рассчитывается автоматически на основе уровня)
- **attack_speed** - скорость атаки монстра (атак в секунду)
- **drops** - предметы, которые могут выпасть после победы над монстром
- **abilities** - особые способности монстра
- **weaknesses** - слабости монстра (типы урона, к которым он особенно уязвим)
- **resistances** - устойчивость монстра к определенным типам урона

Пример с дополнительными характеристиками:

```json
{
  "ancient_guardian": {
    "name": "Древний страж",
    "description": "Магический конструкт, созданный древней цивилизацией для охраны руин.",
    "level": 10,
    "health": 150,
    "damage": 12,
    "armor": 5,
    "magic_resist": 10,
    "exp_reward": 500,
    "gold_reward": 100,
    "attack_speed": 0.8,
    "drops": {
      "ancient_fragment": {
        "chance": 0.7,
        "min": 1,
        "max": 3
      },
      "guardian_essence": {
        "chance": 0.3,
        "min": 1,
        "max": 1
      }
    },
    "abilities": {
      "stone_skin": {
        "description": "Увеличивает защиту на 50% при низком здоровье",
        "trigger": "health_below_30_percent"
      },
      "earthquake": {
        "description": "Наносит урон всем целям в области",
        "damage": 8,
        "cooldown": 15
      }
    },
    "weaknesses": ["lightning", "magic"],
    "resistances": ["physical", "poison"]
  }
}
```

## Типы монстров

Монстры могут быть различных типов, которые определяют их поведение и способности:

### Обычные монстры

Базовые монстры без особых способностей.

### Элитные монстры

Более сильные монстры с особыми способностями. Они обычно имеют повышенные характеристики и дают больше наград.

Пример элитного монстра:

```json
{
  "elite_wolf_alpha": {
    "name": "Вожак стаи",
    "description": "Большой волк с серебристой шерстью, лидер лесных волков.",
    "level": 5,
    "health": 50,
    "damage": 8,
    "is_elite": true,
    "exp_reward": 150,
    "abilities": {
      "howl": {
        "description": "Призывает на помощь обычных лесных волков",
        "cooldown": 30,
        "summon": {
          "monster_id": "forest_wolf",
          "count": 2
        }
      }
    }
  }
}
```

### Боссы

Уникальные монстры с множеством особых способностей, обычно стоящие в конце подземелья или сюжетной линии.

Пример босса:

```json
{
  "forest_ancient": {
    "name": "Древний дух леса",
    "description": "Древний мощный дух, воплощение самой сути леса.",
    "level": 15,
    "health": 300,
    "damage": 20,
    "is_boss": true,
    "exp_reward": 1000,
    "gold_reward": 500,
    "phases": [
      {
        "health_threshold": 100,
        "message": "Древний дух леса меняет форму и становится агрессивнее!",
        "damage_multiplier": 1.5,
        "new_abilities": ["nature_wrath"]
      }
    ],
    "abilities": {
      "root_trap": {
        "description": "Обездвиживает игрока на 3 секунды",
        "cooldown": 20
      },
      "healing_bloom": {
        "description": "Восстанавливает здоровье",
        "cooldown": 30,
        "heal_amount": 50
      },
      "nature_wrath": {
        "description": "Вызывает мощный шторм из листвы и ветвей",
        "damage": 30,
        "cooldown": 45,
        "unlock_phase": 2
      }
    }
  }
}
```

## Организация файлов

Монстры могут быть организованы в JSON-файлах несколькими способами:

1. **По локации** - монстры, обитающие в определенной локации:

   - `forest_monsters.json` - монстры в лесу
   - `mountain_monsters.json` - монстры в горах
   - `dungeon_monsters.json` - монстры в подземельях

2. **По типу** - организация монстров по их типу:

   - `regular_monsters.json` - обычные монстры
   - `elite_monsters.json` - элитные монстры
   - `bosses.json` - боссы

3. **По уровню** - организация монстров по уровню сложности:
   - `low_level_monsters.json` - монстры низкого уровня
   - `mid_level_monsters.json` - монстры среднего уровня
   - `high_level_monsters.json` - монстры высокого уровня

Файлы монстров могут размещаться как в корневой директории `resources/monsters/`, так и в подпапках для лучшей организации: `resources/monsters/region_name/file.json`.

## Полные примеры

### Обычный монстр - Лесной волк

```json
{
  "forest_wolf": {
    "name": "Лесной волк",
    "description": "Обычный лесной волк, агрессивен к чужакам.",
    "level": 1,
    "health": 15,
    "damage": 3
  }
}
```

### Элитный монстр - Гигантский паук

```json
{
  "giant_spider": {
    "name": "Гигантский паук",
    "description": "Паук размером с собаку, ядовитый и опасный.",
    "level": 2,
    "health": 12,
    "damage": 4,
    "is_elite": true,
    "abilities": {
      "poison_bite": {
        "description": "Ядовитый укус, наносящий урон со временем",
        "damage_over_time": 1,
        "duration": 3,
        "cooldown": 10
      },
      "web_trap": {
        "description": "Ловушка из паутины, замедляющая передвижение",
        "slow_factor": 0.5,
        "duration": 5,
        "cooldown": 15
      }
    },
    "drops": {
      "spider_silk": {
        "chance": 0.5,
        "min": 1,
        "max": 2
      },
      "spider_venom": {
        "chance": 0.2,
        "min": 1,
        "max": 1
      }
    }
  }
}
```
