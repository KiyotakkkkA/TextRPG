# Руководство по созданию навыков

Это руководство описывает процесс создания навыков для игры.

## Содержание

1. [Общая структура навыка](#общая-структура-навыка)
2. [Уровни навыка и их эффекты](#уровни-навыка-и-их-эффекты)
3. [Типы навыков](#типы-навыков)
4. [Опыт и прогрессия](#опыт-и-прогрессия)
5. [Организация файлов](#организация-файлов)
6. [Полные примеры](#полные-примеры)

## Общая структура навыка

Каждый навык определяется в отдельном JSON-файле следующей структурой:

```json
{
  "id": "skill_id",
  "name": "Название навыка",
  "description": "Описание навыка",
  "max_level": 100,
  "base_exp": 100,
  "exp_factor": 1.4,
  "levels": [
    // Массив уровней навыка и их эффектов
  ]
}
```

Базовые поля для любого навыка:

- **id** - уникальный идентификатор навыка, используется в коде
- **name** - отображаемое название навыка
- **description** - описание навыка и его эффектов
- **max_level** - максимальный уровень, до которого можно развить навык
- **base_exp** - базовое количество опыта, необходимое для достижения уровня 1
- **exp_factor** - множитель, определяющий рост требуемого опыта для следующих уровней
- **experience_scale** - альтернатива base_exp и exp_factor, фиксированное количество опыта для каждого уровня
- **levels** - массив объектов, описывающих эффекты на каждом уровне навыка

## Уровни навыка и их эффекты

Уровни навыка определяют, какие бонусы и возможности получает игрок при достижении определенного уровня.

```json
"levels": [
  {
    "level": 1,
    "unlocks": ["resource_id"],
    "provides": {
      "bonus_name": value
    },
    "message": "Сообщение при достижении уровня"
  }
]
```

Поля для уровней:

- **level** - номер уровня
- **unlocks** - массив ID ресурсов, предметов или способностей, которые разблокируются на этом уровне
- **provides** - словарь бонусов, которые дает этот уровень (например, "magic_damage": 5)
- **message** - сообщение, которое показывается игроку при достижении этого уровня

## Типы навыков

Навыки могут быть различных типов, в зависимости от их назначения:

### Навыки сбора ресурсов

Навыки, связанные со сбором ресурсов, такие как Травничество, Горное дело и т.д.

Пример навыка Травничество:

```json
{
  "id": "herbalism",
  "name": "Травничество",
  "description": "Сбор растений и их использование",
  "max_level": 100,
  "base_exp": 100,
  "exp_factor": 1.4,
  "levels": [
    {
      "level": 1,
      "unlocks": ["mushroom"],
      "message": "Вы можете собирать обычные грибы."
    },
    {
      "level": 3,
      "unlocks": ["wolfbane"],
      "message": "Вы можете собирать волчью погибель."
    },
    {
      "level": 5,
      "unlocks": ["beast_plant"],
      "message": "Вы можете собирать зверобой."
    }
  ]
}
```

### Боевые навыки

Навыки, улучшающие боевые способности персонажа.

Пример боевого навыка:

```json
{
  "id": "swordsmanship",
  "name": "Мастерство меча",
  "description": "Искусство владения мечом",
  "max_level": 100,
  "base_exp": 200,
  "exp_factor": 1.5,
  "levels": [
    {
      "level": 1,
      "provides": {
        "sword_damage": 1
      },
      "message": "Вы научились правильно держать меч."
    },
    {
      "level": 5,
      "provides": {
        "sword_damage": 3,
        "critical_chance": 2
      },
      "message": "Вы освоили базовые атаки мечом."
    },
    {
      "level": 10,
      "provides": {
        "sword_damage": 5,
        "critical_chance": 5,
        "attack_speed": 1
      },
      "message": "Вы можете наносить молниеносные удары мечом."
    }
  ]
}
```

### Магические навыки

Навыки, связанные с магией и заклинаниями.

Пример магического навыка:

```json
{
  "id": "elementalism",
  "name": "Стихийная магия",
  "description": "Управление стихийными силами",
  "max_level": 100,
  "base_exp": 250,
  "exp_factor": 1.6,
  "levels": [
    {
      "level": 1,
      "unlocks": ["minor_fireball"],
      "provides": {
        "magic_damage": 2
      },
      "message": "Вы можете создавать небольшие огненные сгустки."
    },
    {
      "level": 10,
      "unlocks": ["fireball"],
      "provides": {
        "magic_damage": 5,
        "magic_cost_reduction": 5
      },
      "message": "Вы освоили заклинание Огненный шар."
    }
  ]
}
```

### Торговые навыки

Навыки, улучшающие торговлю и отношения с NPC.

Пример торгового навыка:

```json
{
  "id": "trading",
  "name": "Торговля",
  "description": "Торговля предметами и ресурсами",
  "max_level": 100,
  "experience_scale": 100,
  "levels": [
    {
      "level": 1,
      "provides": {
        "trade_boost": 0
      },
      "message": "Вы начали изучать основы торговли."
    },
    {
      "level": 5,
      "provides": {
        "trade_boost": 5
      },
      "message": "Вы можете получать небольшие скидки у торговцев."
    },
    {
      "level": 10,
      "provides": {
        "trade_boost": 10,
        "reputation_gain": 5
      },
      "message": "Торговцы начинают вас узнавать и предлагать лучшие цены."
    }
  ]
}
```

## Опыт и прогрессия

Существует два способа определения требуемого опыта для повышения уровня навыка:

1. **Прогрессивная шкала** - опыт рассчитывается по формуле: `base_exp * (exp_factor ^ (level - 1))`

   - Используйте поля `base_exp` и `exp_factor`
   - Подходит для большинства навыков, создает экспоненциальный рост сложности

2. **Фиксированная шкала** - одинаковое количество опыта для каждого уровня
   - Используйте поле `experience_scale`
   - Подходит для навыков с линейной прогрессией

## Организация файлов

Каждый навык рекомендуется хранить в отдельном JSON-файле в директории `resources/skills/`. Название файла должно соответствовать ID навыка для удобства поиска.

Примеры:

```
resources/skills/herbalism.json
resources/skills/mining.json
resources/skills/elementalism.json
resources/skills/trading.json
```

## Полные примеры

### Навык травничества

```json
{
  "id": "herbalism",
  "name": "Травничество",
  "description": "Сбор растений и их использование",
  "max_level": 100,
  "base_exp": 100,
  "exp_factor": 1.4,
  "levels": [
    {
      "level": 1,
      "unlocks": ["mushroom"],
      "message": "Вы можете собирать обычные грибы."
    },
    {
      "level": 3,
      "unlocks": ["wolfbane"],
      "message": "Вы можете собирать волчью погибель."
    },
    {
      "level": 5,
      "unlocks": ["beast_plant"],
      "message": "Вы можете собирать зверобой."
    },
    {
      "level": 10,
      "unlocks": ["healing_herb"],
      "provides": {
        "gathering_speed": 5
      },
      "message": "Вы можете собирать целебные травы и делаете это быстрее."
    },
    {
      "level": 15,
      "unlocks": ["rare_mushroom"],
      "provides": {
        "gathering_speed": 10,
        "double_harvest_chance": 5
      },
      "message": "Вы можете находить редкие грибы и иногда собирать двойное количество растений."
    }
  ]
}
```

### Навык горного дела

```json
{
  "id": "mining",
  "name": "Горное дело",
  "description": "Добыча руд и минералов",
  "max_level": 100,
  "base_exp": 150,
  "exp_factor": 1.5,
  "levels": [
    {
      "level": 1,
      "unlocks": ["stone", "coal"],
      "message": "Вы можете добывать камень и уголь."
    },
    {
      "level": 5,
      "unlocks": ["copper_ore"],
      "provides": {
        "mining_speed": 5
      },
      "message": "Вы можете добывать медную руду и делаете это быстрее."
    },
    {
      "level": 10,
      "unlocks": ["iron_ore"],
      "provides": {
        "mining_speed": 10
      },
      "message": "Вы можете добывать железную руду."
    },
    {
      "level": 20,
      "unlocks": ["silver_ore", "gold_ore"],
      "provides": {
        "mining_speed": 15,
        "double_ore_chance": 5
      },
      "message": "Вы можете добывать серебряную и золотую руду. Иногда вы находите больше руды, чем обычно."
    },
    {
      "level": 30,
      "unlocks": ["gem_crystal"],
      "provides": {
        "mining_speed": 20,
        "double_ore_chance": 10
      },
      "message": "Вы можете находить драгоценные кристаллы при добыче руды."
    }
  ]
}
```

Эти примеры демонстрируют структуру навыков и как различные уровни предоставляют новые возможности и бонусы игроку. Важно балансировать навыки так, чтобы игрок чувствовал прогресс и заинтересованность в их развитии.
