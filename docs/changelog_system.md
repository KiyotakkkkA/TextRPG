# Система журнала изменений (Changelog)

Система журнала изменений позволяет создавать и отслеживать обновления игры,
отображая информацию о них в главном меню с красивым ASCII-артом.

## Основные возможности

- **Создание журнала изменений** при обновлении версии игры
- **Генерация ASCII-арта** для названия обновления
- **Отображение арта** в главном меню
- **Отдельный экран** с детальной информацией об обновлении
- **Интеграция с системой версионирования**

## Структура файлов

```
/changelog/
  ├── head.json                      # Информация о текущем обновлении
  └── [хеш-обновления]/              # Директория для каждого обновления
      ├── changes.txt                # Текст с изменениями
      └── art.json                   # ASCII-арт для названия обновления
```

## Использование

### Создание нового обновления

Для создания нового обновления используйте команду:

```bash
python pymust update --patch --log --name=НазваниеОбновления
```

Аргументы:

- `--patch` - увеличивает патч-версию (можно также использовать `--minor` или `--major`)
- `--log` - создает запись в журнале изменений
- `--name` - задает название обновления, которое будет использоваться для генерации ASCII-арта

### Редактирование описания обновления

После создания обновления вы можете отредактировать файл `changes.txt` в директории обновления:

```
# Обновление v2.0.1 Alpha
Дата: 20.03.2025
Сборка: 20250320

## Изменения
- Добавлена новая функция
- Улучшен интерфейс

## Исправления
- Исправлена ошибка #123
```

## Отображение в игре

Система обновлений автоматически:

1. Отображает ASCII-арт в верхней части главного меню
2. Добавляет пункт "Название обновления NEW!" в главное меню
3. Открывает экран с подробной информацией при выборе этого пункта

## Реализация

Система обновлений использует следующие компоненты:

- `src/utils/ChangelogManager.py` - класс для управления журналом изменений
- `data/arts/letters.json` - словарь ASCII-артов для букв
- `scripts/update_version.py` - скрипт для обновления версий
- `src/render/views/MainMenu.py` - содержит `MainMenuScreen` и `UpdateScreen` для отображения

## Пример использования в коде

```python
# Получение информации об обновлении
from src.utils.ChangelogManager import ChangelogManager

changelog_manager = ChangelogManager()
update_info = changelog_manager.get_update_info()

# Проверка наличия обновления
if update_info["has_update"]:
    update_name = update_info["name"]
    update_art = update_info["art"]
    update_changes = update_info["changes"]
    # Используйте эту информацию в интерфейсе
```
